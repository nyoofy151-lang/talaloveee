<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ØªØ§Ù„Ø§ â¤ï¸</title>

<style>
    body {
        margin: 0;
        padding: 0;
        background: #ffe6f2;
        font-family: "Cairo", sans-serif;
        overflow-x: hidden;
    }

    h1 {
        text-align: center;
        margin-top: 20px;
        font-size: 45px;
        color: #d6006e;
        text-shadow: 0 0 15px #ff4fa7;
    }

    #loveText {
        width: 85%;
        max-width: 700px;
        margin: 20px auto;
        background: white;
        border-radius: 15px;
        padding: 20px;
        font-size: 22px;
        line-height: 1.8;
        color: #7a0058;
        box-shadow: 0 0 20px rgba(255, 0, 128, 0.25);
        min-height: 200px;
        white-space: pre-line;
    }

    #chatBox {
        width: 85%;
        max-width: 600px;
        height: 300px;
        background: white;
        margin: 20px auto;
        border-radius: 15px;
        padding: 15px;
        overflow-y: auto;
        box-shadow: 0 0 15px rgba(255, 0, 128, 0.3);
    }

    .message {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: #ffe0f1;
        padding: 10px;
        border-radius: 10px;
        margin: 5px 0;
    }

    .msg-text {
        flex: 1;
        margin-right: 10px;
        word-break: break-word;
    }

    .deleteBtn, .editBtn, .saveBtn {
        background: transparent;
        border: none;
        cursor: pointer;
        font-size: 18px;
        margin-left: 5px;
    }

    .deleteBtn { color: #d6006e; }
    .editBtn { color: #1a73e8; }
    .saveBtn { color: #00a600; }

    #messageInput {
        width: 60%;
        padding: 10px;
        border: 2px solid #ff4fa7;
        border-radius: 10px;
        font-size: 18px;
    }

    #sendBtn {
        padding: 10px 20px;
        background: #ff4fa7;
        border: none;
        border-radius: 10px;
        color: white;
        font-size: 18px;
        cursor: pointer;
        margin-left: 10px;
    }

    .heart {
        position: fixed;
        bottom: -10px;
        color: #ff1f8f;
        font-size: 20px;
        animation: floatUp 4s linear infinite;
        opacity: 0.8;
        z-index: 9999;
    }

    @keyframes floatUp {
        0% { transform: translateY(0) scale(1); opacity: 1; }
        100% { transform: translateY(-120vh) scale(1.5); opacity: 0; }
    }
</style>
</head>

<body>

<h1>ğŸ’– ØªÙ€Ù€Ø§Ù„Ù€Ù€Ø§ ğŸ’–</h1>

<div id="loveText"></div>

<div id="chatBox"></div>

<div style="text-align:center; margin-bottom:30px;">
    <input id="messageInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ...">
    <button id="sendBtn">Ø¥Ø±Ø³Ø§Ù„ â¤ï¸</button>
</div>

<script>
    /* Ù†Øµ Ø§Ù„Ø­Ø¨ */
    const text = `
ØªØ¯Ø±ÙŠÙ†ØŸ
Ø£Ù†ØªÙ Ø§Ù„Ø´Ø®Øµ Ø§Ù„ÙˆØ­ÙŠØ¯ Ø§Ù„Ù„ÙŠ ÙƒÙ„ Ø´ÙŠ Ù…Ø¹Ù‡ ÙŠØµÙŠØ± Ø£Ø­Ù„Ù‰.
ÙƒÙ„Ø§Ù…Ùƒ ØºÙŠØ±ØŒ Ø­Ø¶ÙˆØ±Ùƒ ØºÙŠØ±ØŒ ÙˆØ­ØªÙ‰ Ø¹ØªØ§Ø¨Ùƒ ÙŠØ®ØªÙ„Ùâ€¦
Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù„ÙŠ Ø£Ù‚Ø¶ÙŠÙ‡ Ù…Ø¹Ùƒ ÙˆØ§Ù„Ù„Ù‡ ÙŠÙƒÙˆÙ† Ø£Ø¬Ù…Ù„ Ù…Ù† Ø£ÙŠ Ø´ÙŠ Ø¨Ø§Ù„Ø¯Ù†ÙŠØ§.

ÙƒÙ„ Ø§Ù„Ù„ÙŠ Ø£Ø¨ÙŠÙ‡â€¦ Ø¥Ù†ÙŠ Ø£Ø´ÙˆÙÙƒ Ù…Ø¨Ø³ÙˆØ·Ø©ØŒ
ÙˆØ£Ø´ÙˆÙ Ø§Ù„ÙØ±Ø­ Ø³Ø§ÙƒÙ† Ø¹ÙŠÙˆÙ†Ùƒ Ø·ÙˆÙ„ Ø§Ù„Ø¹Ù…Ø±.
Ø¹ÙˆØ¶ØªÙŠÙ†ÙŠ Ø¹Ù† Ù†Ø§Ø³ ÙƒØ«ÙŠØ±ØŒ ÙˆØ¹Ù† Ø£Ø´ÙŠØ§Ø¡ ÙƒÙ†Øª ÙØ§Ù‚Ø¯Ù‡Ø§â€¦
ØµØ±ØªÙŠ ÙƒÙ„ Ø´ÙŠ Ø¨Ø­ÙŠØ§ØªÙŠ.

Ø£Ø­Ø¨Ùƒâ€¦ ÙˆØ£Ø¹Ø´Ù‚Ùƒâ€¦
ÙˆØ¬ÙˆØ¯Ùƒ Ù…Ø¹ÙŠ Ø£ÙƒØ¨Ø± Ù†Ø¹Ù…Ø©ØŒ
ÙˆÙ…Ø§ Ø£Ø¯Ø±ÙŠ Ø´Ø³ÙˆÙŠØª Ø¹Ø´Ø§Ù† Ø±Ø¨ÙŠ ÙŠÙ‡Ø¯ÙŠÙ†ÙŠ Ø¥Ù†Ø³Ø§Ù†Ø© Ù…Ø«Ù„Ùƒ.
Ø§Ù„Ù„Ù‡ ÙŠØ¯ÙŠÙ…Ùƒ Ù„ÙŠØŒ ÙˆÙŠØ¯ÙŠÙ… Ø¶Ø­ÙƒØªÙƒØŒ ÙˆÙŠØ¨Ø¹Ø¯ Ø¹Ù†Ùƒ ÙƒÙ„ Ø´ÙŠ ÙŠØ¶Ø§ÙŠÙ‚Ùƒ.

Ø£Ù†Ø§ Ø¨Ø®ÙŠØ± Ø¯Ø§Ù…Ùƒ Ù…Ø¹ÙŠØŒ
Ø£Ù†ØªÙ Ø§Ù„Ù„ÙŠ ØªØ³Ø¹Ø¯ÙŠÙ† ÙŠÙˆÙ…ÙŠØŒ ÙˆØªØ·ÙŠØ±ÙŠÙ† Ù‡Ù…Ù‘ÙŠØŒ
ÙˆØªØ¹Ø±ÙÙŠÙ† ØªÙ†ØªØ´Ù„ÙŠÙ†Ù‘ÙŠ Ù…Ù† Ø­Ø²Ù†ÙŠ Ø¨ÙƒÙ„Ù…Ø© Ø£Ùˆ Ø¨Ø¶Ø­ÙƒØ©.
ÙÙŠÙƒ ÙƒÙ„ Ø´ÙŠ Ø­Ù„Ùˆâ€¦!

ÙˆÙ„Ùˆ ÙŠØ³Ø£Ù„ÙˆÙ†ÙŠ: Ù„ÙŠÙ‡ ØªØ­Ø¨Ù‡Ø§ ÙƒØ°Ø§ØŸ
Ø¨Ù‚ÙˆÙ„: Ù„Ùˆ Ø£Ø´ÙƒØ±Ù‡Ø§ Ù…Ù† Ø§Ù„ÙŠÙˆÙ… Ù„Ø¨ÙƒØ±Ø© Ù…Ø§ Ø£ÙƒÙ…Ù„â€¦
Ø§Ù„Ù„ÙŠ Ø¨ÙŠÙ†ÙŠ ÙˆØ¨ÙŠÙ†Ù‡Ø§ Ø£ÙƒØ¨Ø± Ù…Ù† ÙƒÙ„Ø§Ù….

Ø£Ø­Ø¨Ùƒâ€¦
ÙˆØ£Ù‡Ù„ÙŠ ÙƒÙ„Ù‡Ù… ÙŠØ¹Ø±ÙÙˆÙ† Ù‚Ø¯ Ø¥ÙŠØ´ ØºÙ„Ø§Ùƒ Ø¨Ù‚Ù„Ø¨ÙŠØŒ
ÙˆØ£Ù‚Ø³Ù… Ø¨Ø§Ù„Ù„Ù‡ Ù…Ø§ Ù†Ø¯Ù…Øª ÙŠÙˆÙ… Ø¥Ù†ÙŠ Ø­Ø¨ÙŠØªÙƒâ€¦
ÙŠØ§Ø®ÙŠ Ø£Ø­Ø¨ÙƒØŒ ÙˆØ§Ù„Ù„Ù‡ Ø£Ø­Ø¨ÙƒØŒ
ÙˆÙ…Ø¯Ø±ÙŠ Ø´Ù‚ÙˆÙ„ Ø£Ùˆ ÙƒÙŠÙ Ø£Ø¹Ø¨Ø± Ù„Ùƒ Ø¹Ù† ÙƒÙ…ÙŠØ© Ø§Ù„Ø­Ø¨ Ø§Ù„Ù„ÙŠ ÙÙŠÙ†ÙŠ ğŸ¤ğŸ¤
`;

    let index = 0;
    function typeEffect() {
        if (index < text.length) {
            document.getElementById("loveText").innerHTML += text.charAt(index);
            index++;
            setTimeout(typeEffect, 30);
        }
    }
    typeEffect();

    /* Ø¯Ø±Ø¯Ø´Ø© Ù…Ø¹ Ø­ÙØ¸ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ØŒ Ø­Ø°Ù ÙˆØªØ¹Ø¯ÙŠÙ„ */
    const chatBox = document.getElementById("chatBox");
    const input = document.getElementById("messageInput");
    const sendBtn = document.getElementById("sendBtn");

    function loadMessages() {
        const saved = localStorage.getItem("messages");
        if (saved) {
            const messages = JSON.parse(saved);
            messages.forEach(msg => addMessage(msg));
        }
    }

    function addMessage(text) {
        const msgDiv = document.createElement("div");
        msgDiv.classList.add("message");

        const span = document.createElement("span");
        span.classList.add("msg-text");
        span.textContent = "ğŸ’¬ " + text;

        // Ø²Ø± ØªØ¹Ø¯ÙŠÙ„
        const editBtn = document.createElement("button");
        editBtn.classList.add("editBtn");
        editBtn.textContent = "âœï¸";
        editBtn.onclick = () => editMessage(span, text);

        // Ø²Ø± Ø­Ø°Ù
        const delBtn = document.createElement("button");
        delBtn.classList.add("deleteBtn");
        delBtn.textContent = "ğŸ—‘ï¸";
        delBtn.onclick = () => deleteMessage(msgDiv, text);

        msgDiv.appendChild(span);
        msgDiv.appendChild(editBtn);
        msgDiv.appendChild(delBtn);
        chatBox.appendChild(msgDiv);
        chatBox.scrollTop = chatBox.scrollHeight;
    }

    sendBtn.onclick = () => {
        if (input.value.trim() === "") return;
        const msg = input.value;
        addMessage(msg);
        saveMessage(msg);
        input.value = "";
    };

    function saveMessage(msg) {
        let saved = localStorage.getItem("messages");
        let messages = saved ? JSON.parse(saved) : [];
        messages.push(msg);
        localStorage.setItem("messages", JSON.stringify(messages));
    }

    function deleteMessage(element, text) {
        element.remove();
        let saved = localStorage.getItem("messages");
        if (saved) {
            let messages = JSON.parse(saved);
            messages = messages.filter(msg => msg !== text);
            localStorage.setItem("messages", JSON.stringify(messages));
        }
    }

    function editMessage(span, oldText) {
        const inputField = document.createElement("input");
        inputField.type = "text";
        inputField.value = oldText;
        inputField.style.flex = "1";
        span.replaceWith(inputField);

        const saveBtn = document.createElement("button");
        saveBtn.classList.add("saveBtn");
        saveBtn.textContent = "ğŸ’¾";
        inputField.parentNode.insertBefore(saveBtn, inputField.nextSibling);

        saveBtn.onclick = () => {
            const newText = inputField.value;
            inputField.replaceWith(span);
            saveBtn.remove();
            span.textContent = "ğŸ’¬ " + newText;

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ†
            let saved = localStorage.getItem("messages");
            if (saved) {
                let messages = JSON.parse(saved);
                const index = messages.indexOf(oldText);
                if (index > -1) {
                    messages[index] = newText;
                    localStorage.setItem("messages", JSON.stringify(messages));
                }
            }
        };
    }

    loadMessages();

    /* Ù‚Ù„ÙˆØ¨ */
    function createHeart() {
        const heart = document.createElement("div");
        heart.classList.add("heart");
        heart.textContent = "ğŸ’—";

        heart.style.left = Math.random() * window.innerWidth + "px";
        heart.style.fontSize = (20 + Math.random() * 30) + "px";
        heart.style.animationDuration = (3 + Math.random() * 3) + "s";

        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 6000);
    }

    setInterval(createHeart, 250);
</script>

</body>
</html>
